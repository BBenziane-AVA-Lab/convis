
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>convis &#8212; convis 0.5.0.0 documentation</title>
    <link rel="stylesheet" href="_static/nature.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.5.0.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="prev" title="Examples" href="examples.html" /> 
  </head>
  <body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">convis 0.5.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-convis">
<span id="convis"></span><h1>convis<a class="headerlink" href="#module-convis" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-convis.base">
<span id="convis-base"></span><h1><cite>convis.base</cite><a class="headerlink" href="#module-convis.base" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="convis.base.DummyModel">
<em class="property">class </em><code class="descclassname">convis.base.</code><code class="descname">DummyModel</code><a class="reference internal" href="_modules/convis/base.html#DummyModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.DummyModel" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="convis.base.DummyModel.__dict__">
<code class="descname">__dict__</code><em class="property"> = dict_proxy({'__module__': 'convis.base', 'run': &lt;function run&gt;, '__dict__': &lt;attribute '__dict__' of 'DummyModel' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'DummyModel' objects&gt;, '__doc__': None, '__init__': &lt;function __init__&gt;})</em><a class="headerlink" href="#convis.base.DummyModel.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.DummyModel.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#DummyModel.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.DummyModel.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.DummyModel.__module__">
<code class="descname">__module__</code><em class="property"> = 'convis.base'</em><a class="headerlink" href="#convis.base.DummyModel.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.DummyModel.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#convis.base.DummyModel.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.DummyModel.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>chunk_size=20</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#DummyModel.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.DummyModel.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="convis.base.Layer">
<em class="property">class </em><code class="descclassname">convis.base.</code><code class="descname">Layer</code><a class="reference internal" href="_modules/convis/base.html#Layer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for modules, layers and models.</p>
<p><cite>convis.Layer</cite> is a <cite>torch.nn.Module</cite> with some added functionality:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">convis</span>
<span class="kn">import</span> <span class="nn">torch.nn.functional</span> <span class="k">as</span> <span class="nn">F</span>

<span class="k">class</span> <span class="nc">Model</span><span class="p">(</span><span class="n">convis</span><span class="o">.</span><span class="n">Layer</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Model</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv1</span> <span class="o">=</span> <span class="n">convis</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">Conv3d</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">conv2</span> <span class="o">=</span> <span class="n">convis</span><span class="o">.</span><span class="n">filters</span><span class="o">.</span><span class="n">Conv3d</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
    <span class="k">def</span> <span class="nf">forward</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">x</span><span class="p">):</span>
       <span class="n">x</span> <span class="o">=</span> <span class="n">F</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv1</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
       <span class="k">return</span> <span class="n">F</span><span class="o">.</span><span class="n">relu</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">conv2</span><span class="p">(</span><span class="n">x</span><span class="p">))</span>
</pre></div>
</div>
<p>Just as <cite>Module`s, `Layer`s can include other `Layer`s or `Module`s (ie. its `sublayers</cite>).
<cite>Variable`s, `Parameter`s and `State`s that are attributes of a Layer or
its `sublayers</cite> will be registered and can be collected according to their
class.</p>
<p>All registered Variables (including Parameters and States), will be moved to the
corresponding device when calling <cite>.cuda()</cite> or <cite>.cpu()</cite>.</p>
<p>In contrast to many methods of torch.Tensors, Layer methods are always
in-place! Using <cite>.cuda()</cite> or <cite>.float()</cite> will return a reference to the 
original model and not a copy.</p>
<dl class="method">
<dt id="convis.base.Layer.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Layer.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.Layer.__module__">
<code class="descname">__module__</code><em class="property"> = 'convis.base'</em><a class="headerlink" href="#convis.base.Layer.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Layer.__setattr__">
<code class="descname">__setattr__</code><span class="sig-paren">(</span><em>name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.__setattr__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.__setattr__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Layer._apply">
<code class="descname">_apply</code><span class="sig-paren">(</span><em>fn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer._apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer._apply" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Layer.cpu">
<code class="descname">cpu</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.cpu"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.cpu" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the model to the CPU and returns the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Layer.cuda">
<code class="descname">cuda</code><span class="sig-paren">(</span><em>device=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.cuda"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.cuda" title="Permalink to this definition">¶</a></dt>
<dd><p>Moves the model to the GPU (optionally with number <cite>device</cite>).
returns the model itself.</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Layer.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><em>inp</em>, <em>outp</em>, <em>optimizer=None</em>, <em>loss_fn=&lt;function &lt;lambda&gt;&gt;</em>, <em>dt=None</em>, <em>t=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.optimize" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs an Optimizer to fit the models parameters such that the output
of the model when presented <cite>inp</cite> approximates <cite>outp</cite>.</p>
<p>To use this function, an Optimizer has to be selected:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">set_optimizer</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">optim</span><span class="o">.</span><span class="n">SGD</span><span class="p">(</span><span class="n">lr</span><span class="o">=</span><span class="mf">0.01</span><span class="p">))</span>
<span class="n">model</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>or:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">model</span><span class="o">.</span><span class="n">set_optimizer</span><span class="o">.</span><span class="n">SGD</span><span class="p">(</span><span class="n">lr</span><span class="o">=</span><span class="mf">0.01</span><span class="p">)</span> <span class="c1"># uses optimizers from torch.optim</span>
<span class="n">model</span><span class="o">.</span><span class="n">optimize</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span> <span class="n">dt</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
<p>It is important to specify a chunk length <cite>dt</cite>, if the complete input does not fit into memory.</p>
</dd></dl>

<dl class="attribute">
<dt id="convis.base.Layer.params">
<code class="descname">params</code><a class="headerlink" href="#convis.base.Layer.params" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Layer.parse_config">
<code class="descname">parse_config</code><span class="sig-paren">(</span><em>config</em>, <em>prefix=''</em>, <em>key='retina_config_key'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.parse_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.parse_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads parameter values from a configuration (RetinaConfiguration or dict).</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Layer.pop_state">
<code class="descname">pop_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.pop_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.pop_state" title="Permalink to this definition">¶</a></dt>
<dd><p>retrieves the values of all State variables and from a stack</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Layer.push_state">
<code class="descname">push_state</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.push_state"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.push_state" title="Permalink to this definition">¶</a></dt>
<dd><p>collects all State variables and pushes they values onto a stack</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Layer.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>the_input</em>, <em>dt=None</em>, <em>t=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the model either once, or multiple times to process chunks of size <cite>dt</cite>.</p>
<p>Returns an <cite>Output</cite> object.</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Layer.run_in_chunks">
<code class="descname">run_in_chunks</code><span class="sig-paren">(</span><em>the_input</em>, <em>dt=100</em>, <em>t=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Layer.run_in_chunks"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Layer.run_in_chunks" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs the model over the_input in chunks of length dt.</p>
<p>TODO: the_input has to be 3d!</p>
</dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="convis.base.Model">
<code class="descclassname">convis.base.</code><code class="descname">Model</code><a class="headerlink" href="#convis.base.Model" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#convis.base.Layer" title="convis.base.Layer"><code class="xref py py-class docutils literal"><span class="pre">Layer</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="convis.base.Output">
<em class="property">class </em><code class="descclassname">convis.base.</code><code class="descname">Output</code><span class="sig-paren">(</span><em>outs</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Output"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Output" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="convis.base.Output.__dict__">
<code class="descname">__dict__</code><em class="property"> = dict_proxy({'__module__': 'convis.base', '__getitem__': &lt;function __getitem__&gt;, '__iter__': &lt;function __iter__&gt;, '__len__': &lt;function __len__&gt;, '__dict__': &lt;attribute '__dict__' of 'Output' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Output' objects&gt;, '__doc__': None, '__init__': &lt;function __init__&gt;})</em><a class="headerlink" href="#convis.base.Output.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Output.__getitem__">
<code class="descname">__getitem__</code><span class="sig-paren">(</span><em>k</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Output.__getitem__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Output.__getitem__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Output.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>outs</em>, <em>keys=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Output.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Output.__init__" title="Permalink to this definition">¶</a></dt>
<dd><p>This object provides a container for output numpy arrays which are labeled with theano variables.</p>
<p>The outputs can be queried either by sorted order (like a simple list),
by the theano variable which represents this output, the name of this variable
or the full path of the variable.
To make this meaningfull, provide a name to your output variables.</p>
<p>In the case of name collisions, the behavior of OrderedDict will use the last variable added.</p>
<p>The full path names of all variables are also added to this objects __dict__,
allowing for tab completion.</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Output.__iter__">
<code class="descname">__iter__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Output.__iter__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Output.__iter__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Output.__len__">
<code class="descname">__len__</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Output.__len__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Output.__len__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.Output.__module__">
<code class="descname">__module__</code><em class="property"> = 'convis.base'</em><a class="headerlink" href="#convis.base.Output.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.Output.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#convis.base.Output.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="convis.base.Runner">
<em class="property">class </em><code class="descclassname">convis.base.</code><code class="descname">Runner</code><span class="sig-paren">(</span><em>model=None</em>, <em>input=None</em>, <em>output=None</em>, <em>goal=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps track of the input and output of a model
and can run or optimize it in a separate thread.</p>
<p><cite>model</cite> has to be a <cite>convis.Layer</cite></p>
<p><cite>input</cite> should be a <cite>convis.streams.Stream</cite> that contains input data
<cite>output</cite> should be a <cite>convis.streams.Stream</cite> that accepts new data
when using optimize, <cite>goal</cite> has to have the same length as input and the same behaviour at the end of the stream (repeating or stop)</p>
<dl class="attribute">
<dt id="convis.base.Runner.__dict__">
<code class="descname">__dict__</code><em class="property"> = dict_proxy({'__module__': 'convis.base', 'run': &lt;function run&gt;, 'thread': &lt;function thread&gt;, 'stop': &lt;function stop&gt;, '__doc__': '\n        Keeps track of the input and output of a model\n        and can run or optimize it in a separate thread.\n\n        `model` has to be a `convis.Layer`\n\n        `input` should be a `convis.streams.Stream` that contains input data\n        `output` should be a `convis.streams.Stream` that accepts new data\n        when using optimize, `goal` has to have the same length as input and the same behaviour at the end of the stream (repeating or stop)\n\n    ', 'start': &lt;function start&gt;, '__dict__': &lt;attribute '__dict__' of 'Runner' objects&gt;, '__weakref__': &lt;attribute '__weakref__' of 'Runner' objects&gt;, 'optimize': &lt;function optimize&gt;, '__init__': &lt;function __init__&gt;})</em><a class="headerlink" href="#convis.base.Runner.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Runner.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model=None</em>, <em>input=None</em>, <em>output=None</em>, <em>goal=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.Runner.__module__">
<code class="descname">__module__</code><em class="property"> = 'convis.base'</em><a class="headerlink" href="#convis.base.Runner.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base.Runner.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#convis.base.Runner.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="convis.base.Runner.optimize">
<code class="descname">optimize</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner.optimize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner.optimize" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Runner.run">
<code class="descname">run</code><span class="sig-paren">(</span><em>length=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Runner.start">
<code class="descname">start</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner.start"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner.start" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Runner.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner.stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner.stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base.Runner.thread">
<code class="descname">thread</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#Runner.thread"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.Runner.thread" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="convis.base._OptimizerSelection">
<em class="property">class </em><code class="descclassname">convis.base.</code><code class="descname">_OptimizerSelection</code><span class="sig-paren">(</span><em>model</em>, <em>opt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelection" title="Permalink to this definition">¶</a></dt>
<dd><p>A single optimizer option that can be called to set this optimizer for the model.
The doc string of the original optimizer is available by calling <cite>help()</cite> on this object.</p>
<dl class="method">
<dt id="convis.base._OptimizerSelection.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelection.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelection.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base._OptimizerSelection.__dict__">
<code class="descname">__dict__</code><em class="property"> = dict_proxy({'__module__': 'convis.base', '__dict__': &lt;attribute '__dict__' of '_OptimizerSelection' objects&gt;, '__call__': &lt;function __call__&gt;, '__weakref__': &lt;attribute '__weakref__' of '_OptimizerSelection' objects&gt;, '__doc__': '\n        A single optimizer option that can be called to set this optimizer for the model.\n        The doc string of the original optimizer is available by calling `help()` on this object.\n    ', '__init__': &lt;function __init__&gt;})</em><a class="headerlink" href="#convis.base._OptimizerSelection.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base._OptimizerSelection.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em>, <em>opt</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelection.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelection.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base._OptimizerSelection.__module__">
<code class="descname">__module__</code><em class="property"> = 'convis.base'</em><a class="headerlink" href="#convis.base._OptimizerSelection.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base._OptimizerSelection.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#convis.base._OptimizerSelection.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="convis.base._OptimizerSelector">
<em class="property">class </em><code class="descclassname">convis.base.</code><code class="descname">_OptimizerSelector</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelector"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelector" title="Permalink to this definition">¶</a></dt>
<dd><p>Enables tab completion to set optimizers for a model.
Includes all Optimizers found in <cite>torch.nn.optim</cite> and
<cite>convis.optimizer</cite>.</p>
<p>If optimizers are added to torch during runtime,
you can call <cite>._reload()</cite> to add all available options.</p>
<dl class="method">
<dt id="convis.base._OptimizerSelector.__call__">
<code class="descname">__call__</code><span class="sig-paren">(</span><em>opt</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelector.__call__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelector.__call__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base._OptimizerSelector.__dict__">
<code class="descname">__dict__</code><em class="property"> = dict_proxy({'__module__': 'convis.base', '_reload': &lt;function _reload&gt;, '__dict__': &lt;attribute '__dict__' of '_OptimizerSelector' objects&gt;, '__call__': &lt;function __call__&gt;, '__weakref__': &lt;attribute '__weakref__' of '_OptimizerSelector' objects&gt;, '__doc__': '\n        Enables tab completion to set optimizers for a model.\n        Includes all Optimizers found in `torch.nn.optim` and\n        `convis.optimizer`.\n\n        If optimizers are added to torch during runtime,\n        you can call `._reload()` to add all available options.\n    ', '__init__': &lt;function __init__&gt;})</em><a class="headerlink" href="#convis.base._OptimizerSelector.__dict__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="convis.base._OptimizerSelector.__init__">
<code class="descname">__init__</code><span class="sig-paren">(</span><em>model</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelector.__init__"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelector.__init__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base._OptimizerSelector.__module__">
<code class="descname">__module__</code><em class="property"> = 'convis.base'</em><a class="headerlink" href="#convis.base._OptimizerSelector.__module__" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="convis.base._OptimizerSelector.__weakref__">
<code class="descname">__weakref__</code><a class="headerlink" href="#convis.base._OptimizerSelector.__weakref__" title="Permalink to this definition">¶</a></dt>
<dd><p>list of weak references to the object (if defined)</p>
</dd></dl>

<dl class="method">
<dt id="convis.base._OptimizerSelector._reload">
<code class="descname">_reload</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#_OptimizerSelector._reload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base._OptimizerSelector._reload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="convis.base.get_next">
<code class="descclassname">convis.base.</code><code class="descname">get_next</code><span class="sig-paren">(</span><em>stream</em>, <em>l=100</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#get_next"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.get_next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="convis.base.len_parents">
<code class="descclassname">convis.base.</code><code class="descname">len_parents</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#len_parents"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.len_parents" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="convis.base.prepare_input">
<code class="descclassname">convis.base.</code><code class="descname">prepare_input</code><span class="sig-paren">(</span><em>a</em>, <em>dims=5</em>, <em>cuda=False</em>, <em>volatile=False</em>, <em>requires_grad=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#prepare_input"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.prepare_input" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function to broadcast input to 5 dimensions, make it a Tensor,
wrap it in a Variable and optionally move it to the GPU.</p>
<p>Short hand for:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">torch</span>
<span class="n">a_var</span> <span class="o">=</span> <span class="n">torch</span><span class="o">.</span><span class="n">autograd</span><span class="o">.</span><span class="n">Variable</span><span class="p">(</span><span class="n">torch</span><span class="o">.</span><span class="n">Tensor</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="kc">None</span><span class="p">,</span><span class="kc">None</span><span class="p">,:,:,:]),</span> <span class="n">requires_grad</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span><span class="o">.</span><span class="n">cuda</span><span class="p">()</span>

<span class="kn">from</span> <span class="nn">convis.base</span> <span class="k">import</span> <span class="n">prepare_input</span>
<span class="n">a_var</span> <span class="o">=</span> <span class="n">prepare_input</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">cuda</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">requires_grad</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="convis.base.shape">
<code class="descclassname">convis.base.</code><code class="descname">shape</code><span class="sig-paren">(</span><em>x</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/convis/base.html#shape"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#convis.base.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the shape of a Tensor or Variable containing a Tensor.</p>
</dd></dl>

</div>
<div class="section" id="module-convis.filters.simple">
<span id="simple-convis-filters"></span><h1>Simple <cite>convis.filters</cite><a class="headerlink" href="#module-convis.filters.simple" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="module-convis.retina">
<span id="virtual-retina-simulator"></span><h1>Virtual Retina Simulator<a class="headerlink" href="#module-convis.retina" title="Permalink to this headline">¶</a></h1>
<p>This module implements a spiking retina model in python and theano.</p>
<p>It is based on the VirutalRetina Simualtor [Wohrer 2008].</p>
<div class="section" id="general-overview">
<h2>General Overview<a class="headerlink" href="#general-overview" title="Permalink to this headline">¶</a></h2>
<p>The formulas on which the classes are based are:</p>
<p>$$C(x,y,t) = G * T(wu,Tu) * E(n,t) * L (x,y,t)$$
$$S(x,y,t) = G * E * C(x,y,t)$$ 
$$I_{OLP}(x,y,t) = lambda_{OPL}(C(x,y,t) - w_{OPL} S(x,y,t)_)$$ 
$$\frac{dV_{Bip}}{dt} (x,y,t) = I_{OLP}(x,y,t) - g_{A}(x,y,t)dV_{Bip}(x,y,t)$$
$$g_{A}(x,y,t) = G * E * Q(V{Bip})(x,y,t)`with $Q(V{Bip}) = g_{A}^{0} + lambda_{A}V^2_{Bip}$$
$$I_{Gang}(x,y,t) = G * N(eT * V_{Bip})$$</p>
<p>with <span class="math">\(N(V) = \\frac{i^0_G}{1-\lambda(V-v^0_G)/i^0_G}\)</span> (if <span class="math">\(V &lt; v^0_G\)</span>)</p>
<p>with <span class="math">\(N(V) = i^0_G + \lambda(V-v^0_G)\)</span> (if  <span class="math">\(V &gt; v^0_G\)</span>)</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">convis</a></li>
<li><a class="reference internal" href="#module-convis.base"><cite>convis.base</cite></a></li>
<li><a class="reference internal" href="#module-convis.filters.simple">Simple <cite>convis.filters</cite></a></li>
<li><a class="reference internal" href="#module-convis.retina">Virtual Retina Simulator</a><ul>
<li><a class="reference internal" href="#general-overview">General Overview</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="examples.html"
                        title="previous chapter">Examples</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/docs.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="examples.html" title="Examples"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">convis 0.5.0.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2016, Jacob Huth.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
  </body>
</html>